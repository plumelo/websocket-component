<!--
Copyright (c) 2016 Willem Burgers. All rights reserved.
This code may only be used under the BSD style license found at http://wburgers.github.io/LICENSE.txt
For a list of Contributors check https://github.com/wburgers/websocket-component/graphs/contributors
-->
<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
		<title>websocket-component Demo</title>

		<link rel="import" href="../../iron-demo-helpers/demo-pages-shared-styles.html">
		<link rel="import" href="../../iron-demo-helpers/demo-snippet.html">
		<link rel="import" href="../websocket-component.html">

		<style is="custom-style" include="demo-pages-shared-styles">
		</style>
	</head>
	<body>
		Check your console!
		<demo-snippet>
			<template>
				<websocket-component id="websocket" url="wss://echo.websocket.org" auto handle-visibility></websocket-component>
			</template>
		</demo-snippet>
		<script>
			const ws_element = document.getElementById('websocket');

			ws_element.addEventListener('websocket-message', function (event) {
				console.log("Message received from echo websocket server:", event.detail.data);
			});

			ws_element.addEventListener('websocket-open', function () {
				ws_element.send("test");
			});
		</script>

	</body>
</html>
